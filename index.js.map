{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/config/iziToast.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n","import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n\n  iconColor: '#FFF',\n  color: '#FFF',\n\n  close: true,\n  position: 'topRight',\n\n  messageColor: '#FFF',\n  messageSize: '16px',\n\n  progressBar: true,\n\n  progressBarEasing: 'linear',\n});\n\nexport { iziToast };\n","const API_KEY = '40358053-aa77a52d7b78d629a29aff12d';\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport const getImages = query => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(`Error getting fotos: ${res.status}`);\n    }\n\n    return res.json();\n  });\n};\n","import { refs } from './refs';\n\nexport const renderGallery = images => {\n  const itemMarkup = ({\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  }) => `\n      <li class=\"card card-set-item\">\n            <a href=\"${largeImageURL}\" class=\"gallety-link\" href=\"#\">\n              <div class=\"photo-box\">\n                <img\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  class=\"photo\"\n                />\n              </div>\n              <div class=\"capture\">\n                <div class=\"item\"><span class=\"accent\">Likes</span>${likes}</div>\n                <div class=\"item\"><span class=\"accent\">Views</span>${views}</div>\n                <div class=\"item\"><span class=\"accent\">Comments</span>${comments}</div>\n                <div class=\"item\">\n                  <span class=\"accent\">Downloads</span>${downloads}\n                </div>\n              </div>\n            </a>\n          </li>\n      `;\n  const galleryMarkup = images.map(image => itemMarkup(image)).join('');\n\n  refs.gallery.innerHTML = galleryMarkup;\n};\n","import { refs } from './refs';\n\nimport { iziToast } from './config/iziToast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImages } from './pixabay-api';\nimport { renderGallery } from './render-functions';\n\nconst iziToastOptions = {\n  message: 'Sorry, something went wrong.',\n\n  // TODO: Change before deploy\n  //   iconUrl: '/goit-advancedjs-hw-03/img/illegal.svg',\n  iconUrl: './public/img/illegal.svg',\n\n  progressBarColor: '#B51B1B',\n  backgroundColor: '#EF4040',\n\n  maxWidth: '432px',\n};\n\nexport const handleImagesSearch = e => {\n  e.preventDefault();\n  const input = refs.form.elements.search;\n\n  const query = input.value.trim();\n\n  if (query === '') {\n    iziToast.show({\n      ...iziToastOptions,\n      message: 'Oops! Looks like you forgot to enter something.',\n    });\n    input.value = '';\n    return;\n  }\n\n  refs.loader.classList.remove('visually-hidden');\n\n  getImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          ...iziToastOptions,\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n      }\n\n      renderGallery(data.hits);\n\n      input.value = '';\n    })\n    .catch(err =>\n      iziToast.show({\n        ...iziToastOptions,\n        message: `Sorry, something went wrong.: ${err}`,\n      })\n    )\n    .finally(() => {\n      refs.loader.classList.add('visually-hidden');\n    });\n};\n","import { refs } from './js/refs';\nimport { handleImagesSearch } from './js/handlers';\n\nrefs.form.addEventListener('submit', handleImagesSearch);\n"],"names":["refs","iziToast","API_KEY","BASE_URL","getImages","query","params","res","renderGallery","images","itemMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","galleryMarkup","image","iziToastOptions","handleImagesSearch","e","input","data","err"],"mappings":"svBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC7C,ECFAC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,UACd,cAAe,WAEf,UAAW,OACX,MAAO,OAEP,MAAO,GACP,SAAU,WAEV,aAAc,OACd,YAAa,OAEb,YAAa,GAEb,kBAAmB,QACrB,CAAC,ECnBD,MAAMC,EAAU,qCACVC,EAAW,0BAEJC,EAAYC,GAAS,CAChC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,wBAAwBA,EAAI,MAAM,EAAE,EAGtD,OAAOA,EAAI,MACf,CAAG,CACH,ECjBaC,EAAgBC,GAAU,CACrC,MAAMC,EAAa,CAAC,CAClB,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,IAAQ;AAAA;AAAA,uBAEeN,CAAa;AAAA;AAAA;AAAA,yBAGXC,CAAY;AAAA,yBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qEAKwCC,CAAK;AAAA,qEACLC,CAAK;AAAA,wEACFC,CAAQ;AAAA;AAAA,yDAEvBC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,QAM1DC,EAAgBT,EAAO,IAAIU,GAAST,EAAWS,CAAK,CAAC,EAAE,KAAK,EAAE,EAEpEnB,EAAK,QAAQ,UAAYkB,CAC3B,EC5BME,EAAkB,CACtB,QAAS,+BAIT,QAAS,2BAET,iBAAkB,UAClB,gBAAiB,UAEjB,SAAU,OACZ,EAEaC,EAAqBC,GAAK,CACrCA,EAAE,eAAc,EAChB,MAAMC,EAAQvB,EAAK,KAAK,SAAS,OAE3BK,EAAQkB,EAAM,MAAM,KAAI,EAE9B,GAAIlB,IAAU,GAAI,CAChBJ,EAAS,KAAK,CACZ,GAAGmB,EACH,QAAS,iDACf,CAAK,EACDG,EAAM,MAAQ,GACd,MACD,CAEDvB,EAAK,OAAO,UAAU,OAAO,iBAAiB,EAE9CI,EAAUC,CAAK,EACZ,KAAKmB,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBvB,EAAS,KAAK,CACZ,GAAGmB,EACH,QAAS,0EACnB,CAAS,EAGHZ,EAAcgB,EAAK,IAAI,EAEvBD,EAAM,MAAQ,EACpB,CAAK,EACA,MAAME,GACLxB,EAAS,KAAK,CACZ,GAAGmB,EACH,QAAS,iCAAiCK,CAAG,EACrD,CAAO,CACF,EACA,QAAQ,IAAM,CACbzB,EAAK,OAAO,UAAU,IAAI,iBAAiB,CACjD,CAAK,CACL,ECxDAA,EAAK,KAAK,iBAAiB,SAAUqB,CAAkB"}